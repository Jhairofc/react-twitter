{"ast":null,"code":"import _toConsumableArray from\"/Users/jhairorivera/Documents/Cursos/twitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/jhairorivera/Documents/Cursos/twitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Button,Spinner}from\"react-bootstrap\";import BasicLayout from'../../../layout/BasicLayout';import Tweets from\"../Profile/Tweets\";import{getTweetsFollowers}from\"../../../api/Tweet\";import\"../../../scss/Home.scss\";var Home=function Home(props){var setCheckLogin=props.setCheckLogin;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),tweets=_useState2[0],setTweets=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],SetLoading=_useState6[1];useEffect(function(){getTweetsFollowers(page).then(function(response){if(!tweets&&response)setTweets(formatTweets(response));else{if(!response)SetLoading(0);else{setTweets([].concat(_toConsumableArray(tweets),_toConsumableArray(formatTweets(response))));SetLoading(false);}}}).catch(function(){});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[page]);var moraData=function moraData(){SetLoading(true);setPage(page+1);};return/*#__PURE__*/React.createElement(BasicLayout,{setCheckLogin:setCheckLogin,className:\"home\"},/*#__PURE__*/React.createElement(\"div\",{className:\"home-title\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Inicio\")),/*#__PURE__*/React.createElement(Tweets,{tweets:tweets}),/*#__PURE__*/React.createElement(Button,{className:\"load-more\",onClick:moraData},!loading?loading!==0?\"Más Tweets\":\"No hay Tweets\":/*#__PURE__*/React.createElement(Spinner,{as:\"span\",animation:\"grow\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\"})));};export default Home;function formatTweets(tweets){var _tweets=[];tweets.forEach(function(tweet){_tweets.push({id:tweet.id,userID:tweet.followingID,mensaje:tweet.Tweets.mensaje,fecha:tweet.Tweets.fecha});console.log(_tweets);});return _tweets;}","map":{"version":3,"sources":["/Users/jhairorivera/Documents/Cursos/twitter/src/components/views/Home/index.js"],"names":["React","useState","useEffect","Button","Spinner","BasicLayout","Tweets","getTweetsFollowers","Home","props","setCheckLogin","tweets","setTweets","page","setPage","loading","SetLoading","then","response","formatTweets","catch","moraData","_tweets","forEach","tweet","push","id","userID","followingID","mensaje","fecha","console","log"],"mappings":"8UAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,MAAR,CAAgBC,OAAhB,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAAQC,kBAAR,KAAiC,oBAAjC,CACA,MAAO,yBAAP,CACA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,IACbC,CAAAA,aADa,CACID,KADJ,CACbC,aADa,eAEQT,QAAQ,CAAC,IAAD,CAFhB,wCAEbU,MAFa,eAELC,SAFK,8BAGIX,QAAQ,CAAC,CAAD,CAHZ,yCAGbY,IAHa,eAGPC,OAHO,8BAIUb,QAAQ,CAAC,KAAD,CAJlB,yCAIbc,OAJa,eAIJC,UAJI,eAKpBd,SAAS,CAAC,UAAM,CACZK,kBAAkB,CAACM,IAAD,CAAlB,CAAyBI,IAAzB,CAA8B,SAAAC,QAAQ,CAAG,CACrC,GAAG,CAACP,MAAD,EAAWO,QAAd,CACIN,SAAS,CAACO,YAAY,CAACD,QAAD,CAAb,CAAT,CADJ,IAEI,CACA,GAAG,CAACA,QAAJ,CACIF,UAAU,CAAC,CAAD,CAAV,CADJ,IAEI,CACAJ,SAAS,8BAAKD,MAAL,qBAAgBQ,YAAY,CAACD,QAAD,CAA5B,GAAT,CACAF,UAAU,CAAC,KAAD,CAAV,CACH,CACJ,CACJ,CAXD,EAWGI,KAXH,CAWS,UAAI,CAAE,CAXf,EAYJ;AACC,CAdQ,CAcP,CAACP,IAAD,CAdO,CAAT,CAeA,GAAMQ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAK,CAClBL,UAAU,CAAC,IAAD,CAAV,CACAF,OAAO,CAACD,IAAI,CAAE,CAAP,CAAP,CACH,CAHD,CAIA,mBACI,oBAAC,WAAD,EAAa,aAAa,CAAEH,aAA5B,CAA2C,SAAS,CAAC,MAArD,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,uCADJ,CADJ,cAII,oBAAC,MAAD,EAAQ,MAAM,CAAEC,MAAhB,EAJJ,cAKI,oBAAC,MAAD,EAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAEU,QAAvC,EACK,CAACN,OAAD,CACGA,OAAO,GAAK,CAAZ,CAAgB,YAAhB,CAA+B,eADlC,cAGG,oBAAC,OAAD,EAAS,EAAE,CAAC,MAAZ,CAAmB,SAAS,CAAC,MAA7B,CAAoC,IAAI,CAAC,IAAzC,CAA8C,IAAI,CAAC,QAAnD,CAA4D,cAAY,MAAxE,EAJR,CALJ,CADJ,CAeH,CAvCD,CAwCA,cAAeP,CAAAA,IAAf,CACA,QAASW,CAAAA,YAAT,CAAsBR,MAAtB,CAA6B,CACzB,GAAMW,CAAAA,OAAO,CAAG,EAAhB,CACAX,MAAM,CAACY,OAAP,CAAe,SAAAC,KAAK,CAAI,CACpBF,OAAO,CAACG,IAAR,CAAa,CACTC,EAAE,CAAEF,KAAK,CAACE,EADD,CAETC,MAAM,CAAEH,KAAK,CAACI,WAFL,CAGTC,OAAO,CAAEL,KAAK,CAAClB,MAAN,CAAauB,OAHb,CAITC,KAAK,CAAEN,KAAK,CAAClB,MAAN,CAAawB,KAJX,CAAb,EAMAC,OAAO,CAACC,GAAR,CAAYV,OAAZ,EACH,CARD,EASA,MAAOA,CAAAA,OAAP,CACH","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Button, Spinner} from \"react-bootstrap\";\nimport BasicLayout from '../../../layout/BasicLayout';\nimport Tweets from \"../Profile/Tweets\";\nimport {getTweetsFollowers} from \"../../../api/Tweet\";\nimport \"../../../scss/Home.scss\";\nconst Home = (props) => {\n    const {setCheckLogin} = props;\n    const [tweets, setTweets] = useState(null);\n    const [page, setPage] = useState(1);\n    const [loading, SetLoading] = useState(false);\n    useEffect(() => {\n        getTweetsFollowers(page).then(response=> {\n            if(!tweets && response)\n                setTweets(formatTweets(response));\n            else{\n                if(!response)\n                    SetLoading(0);\n                else{\n                    setTweets([...tweets, ...formatTweets(response)])\n                    SetLoading(false);\n                }\n            }\n        }).catch(()=>{});\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[page]);\n    const moraData = () =>{\n        SetLoading(true);\n        setPage(page +1);\n    };\n    return (\n        <BasicLayout setCheckLogin={setCheckLogin} className=\"home\">\n            <div className=\"home-title\">\n                <h2>Inicio</h2>\n            </div>\n            <Tweets tweets={tweets} />\n            <Button className=\"load-more\" onClick={moraData}>\n                {!loading ? (\n                    loading !== 0 ? \"Más Tweets\" : \"No hay Tweets\"\n                ) : (\n                    <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />\n                )}\n            </Button>\n        </BasicLayout>\n    );\n}\nexport default Home;\nfunction formatTweets(tweets){\n    const _tweets = [];\n    tweets.forEach(tweet => {\n        _tweets.push({\n            id: tweet.id,\n            userID: tweet.followingID,\n            mensaje: tweet.Tweets.mensaje,\n            fecha: tweet.Tweets.fecha,\n        });\n        console.log(_tweets);\n    });\n    return _tweets;\n}\n"]},"metadata":{},"sourceType":"module"}