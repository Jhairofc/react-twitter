{"ast":null,"code":"import _slicedToArray from\"/Users/jhairorivera/Documents/Cursos/twitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Button}from\"react-bootstrap\";import{toast}from\"react-toastify\";import{LOCALHOST}from\"../../utils/Constants\";import noFound from\"../../Assets/noFound.png\";import ConfigModal from\"../Modals/ConfigModal\";import UpdateUser from\"../views/User/UpdateUser\";import{isFollowApi,FollowApi,UnfollowApi}from\"../../api/Follow\";import\"../../scss/BannerAvatar.scss\";var BannerAvatar=function BannerAvatar(props){var user=props.user,loggedUser=props.loggedUser,setCheckLogin=props.setCheckLogin;var bannerURI=(user===null||user===void 0?void 0:user.banner)?\"\".concat(LOCALHOST,\"/obtenerBanner?id=\").concat(user.id):null;var avatarURI=(user===null||user===void 0?void 0:user.avatar)?\"\".concat(LOCALHOST,\"/obtenerAvatar?id=\").concat(user.id):\"\".concat(noFound);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),follow=_useState4[0],setFollow=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),reload=_useState6[0],setReload=_useState6[1];useEffect(function(){isFollowApi(user===null||user===void 0?void 0:user.id).then(function(response){setReload(false);if(response===null||response===void 0?void 0:response.status)setFollow(true);else setFollow(false);}).catch(function(error){return console.log(error);});},[user,reload]);var onFollow=function onFollow(){FollowApi(user.id).then(function(response){return setReload(true);}).catch(function(error){return toast.error(\"Ha ocurrido un error, intente m치s tarde\");});};var onUnfollow=function onUnfollow(){UnfollowApi(user.id).then(function(response){return setReload(true);}).catch(function(error){return toast.error(\"Ha ocurrido un error, intente m치s tarde\");});};return/*#__PURE__*/React.createElement(\"div\",{className:\"banner\",style:{backgroundImage:\"url('\".concat(bannerURI,\"')\")}},/*#__PURE__*/React.createElement(\"div\",{className:\"avatar\",style:{backgroundImage:\"url('\".concat(avatarURI,\"')\")}}),user&&/*#__PURE__*/React.createElement(\"div\",{className:\"options\"},user.id===loggedUser.id&&/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setShow(true);}},\"Editar Perfil\"),user.id!==loggedUser.id&&follow!==null&&(follow?/*#__PURE__*/React.createElement(Button,{className:\"siguiendo\",onClick:onUnfollow},\"Siguiendo\"):/*#__PURE__*/React.createElement(Button,{className:\"seguir\",onClick:onFollow},\"Seguir\"))),/*#__PURE__*/React.createElement(ConfigModal,{show:show,setShow:setShow,title:\"Editar Perfil\"},/*#__PURE__*/React.createElement(UpdateUser,{user:user,setCheckLogin:setCheckLogin,setShow:setShow})));};export default BannerAvatar;","map":{"version":3,"sources":["/Users/jhairorivera/Documents/Cursos/twitter/src/components/BannerAvatar/BannerAvatar.js"],"names":["React","useState","useEffect","Button","toast","LOCALHOST","noFound","ConfigModal","UpdateUser","isFollowApi","FollowApi","UnfollowApi","BannerAvatar","props","user","loggedUser","setCheckLogin","bannerURI","banner","id","avatarURI","avatar","show","setShow","follow","setFollow","reload","setReload","then","response","status","catch","error","console","log","onFollow","onUnfollow","backgroundImage"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Button} from \"react-bootstrap\";\nimport {toast} from \"react-toastify\";\nimport {LOCALHOST} from \"../../utils/Constants\";\nimport noFound from \"../../Assets/noFound.png\";\nimport ConfigModal from \"../Modals/ConfigModal\";\nimport UpdateUser from \"../views/User/UpdateUser\";\nimport {isFollowApi, FollowApi, UnfollowApi} from \"../../api/Follow\";\nimport \"../../scss/BannerAvatar.scss\";\nconst BannerAvatar = (props) => {\n    const {user, loggedUser, setCheckLogin} = props;\n    const bannerURI = user?.banner ? `${LOCALHOST}/obtenerBanner?id=${user.id}` : null;\n    const avatarURI = user?.avatar ? `${LOCALHOST}/obtenerAvatar?id=${user.id}` : `${noFound}`;\n    const [show, setShow] = useState(false);\n    const [follow, setFollow] = useState(null);\n    const [reload, setReload] = useState(null);\n    useEffect(() => {\n        isFollowApi(user?.id).then(response=>{\n            setReload(false);\n            if(response?.status)\n                setFollow(true)\n            else\n                setFollow(false);\n        })\n        .catch(error => console.log(error));\n    }, [user, reload]);\n    const onFollow = () =>{\n        FollowApi(user.id).then(response=> setReload(true))\n        .catch(error => toast.error(\"Ha ocurrido un error, intente m치s tarde\"))\n    };\n    const onUnfollow = () =>{\n        UnfollowApi(user.id).then(response=> setReload(true))\n        .catch(error => toast.error(\"Ha ocurrido un error, intente m치s tarde\"))\n    };\n    return (\n        <div className=\"banner\" style={{backgroundImage: `url('${bannerURI}')` }}>\n            <div className=\"avatar\" style={{backgroundImage: `url('${avatarURI}')` }}></div>\n            {/* Comprueba si la variable user existe */}\n            {user && (\n                <div className=\"options\">\n                    {user.id === loggedUser.id && <Button onClick={()=> setShow(true)}>Editar Perfil</Button> }\n                    {user.id !== loggedUser.id && \n                        follow !== null && (\n                            follow ? (<Button className=\"siguiendo\" onClick={onUnfollow} >Siguiendo</Button>) \n                            :\n                            (<Button className=\"seguir\" onClick={onFollow} >Seguir</Button>) \n                        ) \n                    }\n                </div>\n            )}\n            <ConfigModal show={show} setShow={setShow} title=\"Editar Perfil\">\n                <UpdateUser user={user} setCheckLogin={setCheckLogin} setShow={setShow} />\n            </ConfigModal>\n        </div>\n    );\n}\nexport default BannerAvatar;"]},"metadata":{},"sourceType":"module"}